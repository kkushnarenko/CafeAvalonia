<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:CafeAvalonia.ViewModels"
        x:Class="CafeAvalonia.Views.ShiftReportWindow"
        x:DataType="vm:ShiftReportViewModel"
        Title="ÐžÑ‚Ñ‡ÐµÑ‚ Ð¿Ð¾ ÑÐ¼ÐµÐ½Ðµ"
        Width="1000"
        Height="600">

	<Grid Margin="20">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
			<RowDefinition Height="Auto"/>
			<!-- Ð˜Ð½Ñ„Ð¾ Ð¿Ð¾ ÑÐ¼ÐµÐ½Ðµ -->
			<RowDefinition Height="*"/>
			<!-- Ð’ÑÐµ Ð·Ð°ÐºÐ°Ð·Ñ‹ -->
			<RowDefinition Height="*"/>
			<!-- ÐžÐ¿Ð»Ð°Ñ‡ÐµÐ½Ð½Ñ‹Ðµ Ð·Ð°ÐºÐ°Ð·Ñ‹ -->
			<RowDefinition Height="Auto"/>
			<!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¸Ñ -->
		</Grid.RowDefinitions>

		<!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
		<Border Grid.Row="0" Background="LightBlue" Padding="15" Margin="0,0,0,10">
			<StackPanel Orientation="Horizontal" Spacing="15">
				<TextBlock Text="ðŸ“Š ÐžÑ‚Ñ‡ÐµÑ‚ Ð¿Ð¾ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾Ð¹ ÑÐ¼ÐµÐ½Ðµ"
                           FontSize="22"
                           FontWeight="Bold" />
				<Button Command="{Binding LoadCurrentShiftReportCommand}"
                        Content="ðŸ”„ Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ" />
				<Button Command="{Binding RefreshReportCommand}"
                        Content="ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ" />
				<Button Content="Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ PDF"  Command="{Binding ExportPdfCommand}" />
				<Button Content="Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ XLSX" Command="{Binding ExportXlsxCommand}" />

			</StackPanel>
		</Border>

		<!-- Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¿Ð¾ ÑÐ¼ÐµÐ½Ðµ Ð¸ ÑÑƒÐ¼Ð¼Ð°Ð¼ -->
		<Border Grid.Row="1" Background="LightGreen" Padding="15" Margin="0,0,0,10">
			<StackPanel Orientation="Horizontal" Spacing="20">
				<TextBlock Text="{Binding CurrentShift.DateStart,
                                          StringFormat='ÐÐ°Ñ‡Ð°Ð»Ð¾: {0:dd.MM HH:mm}',
                                          FallbackValue='ÐÐµÑ‚ ÑÐ¼ÐµÐ½Ñ‹'}" />
				<TextBlock Text="{Binding CurrentShift.DateFinis,
                                          StringFormat='ÐšÐ¾Ð½ÐµÑ†: {0:dd.MM HH:mm}',
                                          FallbackValue='ÐÐµÑ‚ ÑÐ¼ÐµÐ½Ñ‹'}" />
				<Separator/>
				<!-- Ð’ÑÐµ Ð·Ð°ÐºÐ°Ð·Ñ‹ -->
				<TextBlock Text="{Binding OrdersInShift.Count,
                                          StringFormat='Ð’ÑÐµÐ³Ð¾ Ð·Ð°ÐºÐ°Ð·Ð¾Ð²: {0}'}" />
				<TextBlock Text="{Binding TotalRevenueAll,
                                          StringFormat='Ð¡ÑƒÐ¼Ð¼Ð° Ð²ÑÐµÑ…: {0:C}'}" />
				<Separator/>
				<!-- ÐžÐ¿Ð»Ð°Ñ‡ÐµÐ½Ð½Ñ‹Ðµ -->
				<TextBlock Text="{Binding PaidOrdersInShift.Count,
                                          StringFormat='ÐžÐ¿Ð»Ð°Ñ‡ÐµÐ½Ð¾ Ð·Ð°ÐºÐ°Ð·Ð¾Ð²: {0}'}" />
				<TextBlock Text="{Binding TotalRevenuePaid,
                                          StringFormat='Ð’Ñ‹Ñ€ÑƒÑ‡ÐºÐ°: {0:C}'}" />
			</StackPanel>
		</Border>

		<Grid Grid.Row="2" Margin="0,0,0,10">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
			</Grid.RowDefinitions>

			<TextBlock Grid.Row="0"
                       Text="Ð’ÑÐµ Ð·Ð°ÐºÐ°Ð·Ñ‹ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾Ð¹ ÑÐ¼ÐµÐ½Ñ‹"
                       FontWeight="Bold"
                       Margin="0,0,0,5" />

			<ListBox Grid.Row="1"
                     ItemsSource="{Binding OrdersInShift}">
				<ListBox.ItemTemplate>
					<DataTemplate>
						<Border BorderBrush="Gray" BorderThickness="1"
                                CornerRadius="5" Padding="10" Margin="2">
							<StackPanel Spacing="3">
								<TextBlock Text="{Binding FkDishes.Name}"
                                           FontWeight="Bold" FontSize="14"/>
								<TextBlock Text="{Binding FkEmployee.Surname}"/>
								<TextBlock Text="{Binding TableNumber,
                                                          StringFormat='Ð¡Ñ‚Ð¾Ð»: {0}'}"/>
								<TextBlock Text="{Binding ClientsCount,
                                                          StringFormat='Ð“Ð¾ÑÑ‚ÐµÐ¹: {0}'}"/>
								<TextBlock Text="{Binding Status}" Foreground="Blue"/>
								<TextBlock Text="{Binding Price,
                                                          StringFormat='Ð¦ÐµÐ½Ð°: {0:C}'}"
                                           FontWeight="Bold"/>
								<TextBlock Text="{Binding CreatedAt,
                                                          StringFormat='Ð¡Ð¾Ð·Ð´Ð°Ð½: {0:dd.MM HH:mm}'}"/>
							</StackPanel>
						</Border>
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>
		</Grid>

		<!-- ÐžÐ¿Ð»Ð°Ñ‡ÐµÐ½Ð½Ñ‹Ðµ Ð·Ð°ÐºÐ°Ð·Ñ‹ (Ð²Ñ‹Ñ€ÑƒÑ‡ÐºÐ°) -->
		<Grid Grid.Row="3">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
			</Grid.RowDefinitions>

			<TextBlock Grid.Row="0"
                       Text="ÐžÐ¿Ð»Ð°Ñ‡ÐµÐ½Ð½Ñ‹Ðµ Ð·Ð°ÐºÐ°Ð·Ñ‹ (Ð²Ñ‹Ñ€ÑƒÑ‡ÐºÐ°)"
                       FontWeight="Bold"
                       Margin="0,0,0,5" />

			<ListBox Grid.Row="1"
                     ItemsSource="{Binding PaidOrdersInShift}">
				<ListBox.ItemTemplate>
					<DataTemplate>
						<Border BorderBrush="Gray" BorderThickness="1"
                                CornerRadius="5" Padding="10" Margin="2">
							<StackPanel Spacing="3">
								<TextBlock Text="{Binding FkDishes.Name}"
                                           FontWeight="Bold" FontSize="14"/>
								<TextBlock Text="{Binding FkEmployee.Surname}"/>
								<TextBlock Text="{Binding TableNumber,
                                                          StringFormat='Ð¡Ñ‚Ð¾Ð»: {0}'}"/>
								<TextBlock Text="{Binding ClientsCount,
                                                          StringFormat='Ð“Ð¾ÑÑ‚ÐµÐ¹: {0}'}"/>
								<TextBlock Text="{Binding Status}" Foreground="Blue"/>
								<TextBlock Text="{Binding Price,
                                                          StringFormat='Ð¦ÐµÐ½Ð°: {0:C}'}"
                                           FontWeight="Bold"/>
								<TextBlock Text="{Binding CreatedAt,
                                                          StringFormat='Ð¡Ð¾Ð·Ð´Ð°Ð½: {0:dd.MM HH:mm}'}"/>
							</StackPanel>
						</Border>
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>
		</Grid>
	</Grid>
</Window>