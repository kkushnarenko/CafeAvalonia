<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:CafeAvalonia.ViewModels"
        x:Class="CafeAvalonia.Views.OrderDetailsWindow"
        x:DataType="vm:OrderDetailsViewModel"
        Title="Детали заказа" Width="520" Height="360">

	<Grid Margin="20">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>

		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="150"/>
			<ColumnDefinition Width="*"/>
		</Grid.ColumnDefinitions>

		<!-- Заголовок -->
		<TextBlock Grid.Row="0" Grid.ColumnSpan="2"
                   Text="Детали заказа"
                   FontWeight="Bold"
                   FontSize="22"
                   Margin="0,0,0,15"/>

		<!-- Блюдо -->
		<TextBlock Grid.Row="1" Grid.Column="0"
                   Text="Блюдо:"
                   VerticalAlignment="Center"
                   Margin="0,0,10,5"/>
		<TextBlock Grid.Row="1" Grid.Column="1"
                   Text="{Binding Order.FkDishes.Name}"
                   VerticalAlignment="Center"
                   Margin="0,0,0,5"/>

		<!-- Сотрудник -->
		<TextBlock Grid.Row="2" Grid.Column="0"
                   Text="Сотрудник:"
                   VerticalAlignment="Center"
                   Margin="0,0,10,5"/>
		<TextBlock Grid.Row="2" Grid.Column="1"
                   Text="{Binding Order.FkEmployee.Surname}"
                   VerticalAlignment="Center"
                   Margin="0,0,0,5"/>

		<!-- Количество гостей -->
		<TextBlock Grid.Row="3" Grid.Column="0"
                   Text="Количество гостей:"
                   VerticalAlignment="Center"
                   Margin="0,0,10,5"/>
		<TextBlock Grid.Row="3" Grid.Column="1"
                   Text="{Binding Order.ClientsCount}"
                   VerticalAlignment="Center"
                   Margin="0,0,0,5"/>

		<!-- Номер стола -->
		<TextBlock Grid.Row="4" Grid.Column="0"
                   Text="Номер стола:"
                   VerticalAlignment="Center"
                   Margin="0,0,10,5"/>
		<TextBlock Grid.Row="4" Grid.Column="1"
                   Text="{Binding Order.TableNumber}"
                   VerticalAlignment="Center"
                   Margin="0,0,0,5"/>

		<!-- Текущий статус -->
		<TextBlock Grid.Row="5" Grid.Column="0"
                   Text="Текущий статус:"
                   VerticalAlignment="Center"
                   Margin="0,0,10,5"/>
		<TextBlock Grid.Row="5" Grid.Column="1"
                   Text="{Binding Order.Status}"
                   VerticalAlignment="Center"
                   Margin="0,0,0,5"
                   Foreground="LightBlue"/>

		<!-- Цена -->
		<TextBlock Grid.Row="6" Grid.Column="0"
                   Text="Цена:"
                   VerticalAlignment="Center"
                   Margin="0,0,10,5"/>
		<TextBlock Grid.Row="6" Grid.Column="1"
                   Text="{Binding Order.Price, StringFormat='{}{0:C}'}"
                   VerticalAlignment="Center"
                   Margin="0,0,0,5"
                   FontWeight="Bold"/>

		<!-- Новый статус -->
		<TextBlock Grid.Row="7" Grid.Column="0"
                   Text="Новый статус:"
                   VerticalAlignment="Center"
                   Margin="0,10,10,0"/>
		<ComboBox Grid.Row="7" Grid.Column="1"
                  Margin="0,10,0,0"
                  ItemsSource="{Binding AvailableStatuses}"
                  SelectedItem="{Binding SelectedStatus}"
                  MinWidth="150"/>

		<!-- Кнопка сохранения -->
		<Button Grid.Row="8" Grid.Column="1"
                Content="Сохранить статус"
                Command="{Binding UpdateStatusCommand}"
                HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                Margin="0,20,0,0"
                Width="160"
                Height="32"/>

		<Button Grid.Row="8" Grid.Column="0"
        Content="Редактировать"
        Width="120"
        Height="32"
        HorizontalAlignment="Left"
        Margin="0,20,0,0"
        Command="{Binding EditOrderCommand}"
        IsVisible="{Binding CanEditOrder}"/>

	</Grid>
</Window>
